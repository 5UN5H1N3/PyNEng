# Упражнения

Все задания и вспомогательные файлы можно скачать [тут](https://github.com/natenka/PyNEng/blob/master/exercises.zip) (так будет удобнее их выполнять).

> Если в заданиях раздела есть задания с буквами (например, 5.2a), то можно выполнить сначала задания без букв, а затем с буквами. Задания с буквами, как правило, немного сложнее заданий без букв и развивают/усложняют идею в соответствующем задании без буквы.

> Например, если в разделе есть задания: 5.1, 5.2, 5.2a, 5.2b, 5.3, 5.3a.

> Сначала, можно выполнить задания 5.1, 5.2, 5.3. А затем 5.2a, 5.2b, 5.3a.

> Однако, если задания с буквами получается сделать сразу, можно делать их по порядку.


### Задание 14.1

Переделать пример, который использовался в разделе TextFSM, в функцию.

Функция должна называться parse_output:
* аргументы функции:
 * template - шаблон TextFSM (это должно быть имя файла, в котором находится шаблон)
 * output - вывод соответствующей команды show (строка)

Функция должна возвращать два списка:
* список с названиями столбцов (в примере ниже, находится в переменной header)
* список списков, в котором находятся результаты обработки вывода (в примере ниже, находится в переменной result)

Проверить работу функции.

Пример из раздела:
```
import sys
import textfsm
from tabulate import tabulate

template = sys.argv[1]
output_file = sys.argv[2]

f = open(template)
output = open(output_file).read()

re_table = textfsm.TextFSM(f)

header = re_table.header
result = re_table.ParseText(output)

print tabulate(result, headers=header)

```


### Задание 14.1a

Переделать функцию parse_output из задания 14.1 таким образом,
чтобы вместо двух список она возвращала один список словарей,
где ключи - названия столбцов, а значения, соответствующие значения в стобцах.


### Задание 14.2


Преобразовать вывод в CSV.


### Задание 14.3

Сделать шаблон TextFSM для обработки вывода sh ip dhcp snooping binding.
https://natenka.gitbooks.io/pyneng/content/book/chapter09/4a_group_example.html

### Задание 14.4

На основе примера из раздела clitable сделать функцию, которая ожидает аргументы команду и вендора, а возвращает список с заголовками столбцов и список списков со строками.


### Задание 14.5
Переделать функцию из задания 14.4 таким образом, чтобы она возвращала список словарей.

sh_cdp_n_det.template
sh_clock.template
sh_ip_int_br.template
sh_ip_route_ospf.template
