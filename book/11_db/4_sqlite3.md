## Модуль sqlite3
Для работы с SQLite в Python используется модуль sqlite3.

Рассмотрим основные объекты и методы, которые модуль использует для работы с SQLite.

### Connection

Объект __Connection__ - это подключение к конкретной БД. Можно сказать, что этот объект представляет БД.

Пример создания подключения:
```
conn = sqlite3.connect('dhcp_snooping.db')
```

У объекта Connection есть несколько методов, с помощью которых, можно выполнять команды SQL:
* __```execute()```__ - метод для выполнения одного выражения SQL
* __```executemany()```__ - метод позволяет выполнить выражение SQL для последовательности параметров (или для итератора) 
* __```executescript()```__ - метод позволяет выполнить несколько выражений SQL за один раз


### Cursor

Для чтения данных из БД, используется объект Cursor - это основной способ работы с БД.

Создается курсор из соединения с БД:
```
cursor = sqlite3.connect('dhcp_snooping.db').cursor()
```


> На самом деле, при использовании методов:
* ```Connection.execute()```
* ```Connection.executemany()```
* ```Connection.executescript()```

> также создается курсор, но неявно, и фактически эти методы применяются к объекту Cursor.


При обращении к БД, сначала нужно выполнить выражение SQL, используя один из методов (описаны выше):
* __```execute()```__
* __```executemany()```__
* __```executescript()```__

А затем, с помощью метода ```fetch...()```, обрабатать полученные данные, и вернуть их:
* __```fetchone()```__ - возвращает одну строку данных
* __```fetchmany()```__ - возвращает список строк данных. С помощью параметра size, можно указывать какое количество строк возвращается
* __```fetchall()```__ - возвращает все строки в виде списка

### Connection как менеджер контекста

После выполнения операций, изменения должны быть сохранены (надо выполнить ```commit()```), а затем можно закрыть курсор, если он больше не нужен.

Python позволяет использовать объект Connection, как менеджер контекста.
В таком случае, не нужно явно делать commit и закрывать соединение.
При этом:
* при возникновении исключения, транзакция автоматически откатывается
* если исключения не было, автоматически выполняется commit

Пример использования соединения с базой, как менеджера контекстов: 
```python
with sqlite3.connect('test.db') as conn
```

