## Синтаксис шаблонов TextFSM

Шаблон TextFSM описывает каким образом данные должны обрабатываться.

Любой шаблон состоит из двух частей:
* определения переменных
 * эти переменные описывают какие столбцы будут в табличном представлении
* определения состояний

Пример, который мы использовали для разбора команды traceroute:
```
# Определение переменных:
Value ID (\d+)
Value Hop (\d+(\.\d+){3})

# Секция с определением состояний всегда должна начинаться с состояния Start
Start
  ^  ${ID} ${Hop} -> Record
```

### Определение переменных

В секции с переменными должны идти только определения переменных. Единственное исключение - в этом разделе могут быть комментарии.

В этом разделе не должно быть пустых строк. Так как для TextFSM пустая строка будет означать завершение секции определения переменных.

Формат описания переменных:
```
Value [option[,option...]] name regex
```

Синтаксис описания переменных (для каждой опции ниже мы рассмотрим примеры):
* Value - это ключевое слово, которое указывает, что мы определяем переменную. Его обязательно нужно указывать
* option - опции, которые определяют как работать с переменной. Если нужно указать несколько опций, они должны быть отделены запятой, без пробелов. Поддерживаются такие опции:
 * __Filldown__ - значение, которое ранее совпало с регулярным выражением, запоминается до следующей обработки строки (если не было явно очищено или снова совпало регулярное выражение).
   * это значит, что последнее значение столбца, которое совпало с регулярным выражением, запоминается и используется в следующих строках, если в них не присутствовал этот столбец.
 * __Key__ - определяет, что это поле содержит уникальный идентификатор строки
 * __Required__ - строка, которая обрабатывается, будет записана только в том случае, если эта переменная присутствует.
 * __List__ - значение это список и каждое совпадение с регулярным выражением будет добавлять в список элемент. По умолчанию, каждое следующее совпадение перезаписывает предыдущее.
 * __Fillup__ - работает как Filldown, но заполняет пустые значение выше, до тех пор, пока не найдет совпадение. Не совместимо с Required.

### Определение состояний

После определения переменных, нужно описать состояния:
* каждое определение состояния должно быть отделено пустой строкой (как минимум, одной)
* первая строка - имя состояния
* затем идут строки, которые описывают правила


