#Подключение к оборудованию

Наконец-то мы добрались до главного: как, используя Python, подключиться к обрудованию.

В этом разделе мы говорим о том как подключиться к оборудованию по протоколам:
* SSH
* Telnet

Рассмотрим такие аспекты:
* как выполнять команды,
* как выполнять несколько команд,
* как получать вывод команд

Кроме того, мы рассмотрим как подключаться к нескольким устройствам параллельно. Это существенно ускорит время работы скрипта.

И напоследок посмотрим как превратить ipython в управляющую консоль с которой мы можем отправлять команды на оборудование.

В Python есть несколько модулей, которые позволяют подключаться к оборудованию и выполнять команды:
* pexpect - это реализация expect на Python
 * этот модуль позволяет работать с любой интерактивной сессией: ssh, telnet, sftp и др.
 * кроме того, он позволяет выполнять различные команды в ОС (это можно делать и с помощью других модулей)
 * однако, если вас интересует подключение по SSH, я бы рекомендовала использовать netmiko. Он гораздо проще и приятней в использовании
 * несмотря на то, что pexpect может быть менее удобным в использовании, он реализует более общий функционал и это ползволяет использовать его в ситуациях, когда другие модули не предлагают какого-то функционала
* telnetlib - этот модуль позволяет подключаться по Telnet
 * в версии 1.0 netmiko также появилась поддержка Telnet, поэтому, если netmiko поддерживает то обрудование, которое используется у вас, удобней будет использовать его
* paramiko - это модуль, который позволяет подключаться по SSHv2
 * он более удобен в использовании, чем pexpect, но с более узкой функциональностью (поддерживает только SSH)
* netmiko - это модуль, который упрощает использование paramiko для сетевых устройств
 * netmiko это "обертка" вокруг paramiko, которая ориентирована на работу с сетевым оборудованием
 * в версии 1.0 в netmiko добавилась поддержка telnet

Мы будем рассматривать все 4 модуля, для того, чтобы вы знали о том, какие варианты есть.

Я бы рекомендовала использовать netmiko, так как он наиболее удобный для работы с сетевым оборудованием.

Но, если в netmiko какой-то функциональности нет, можно попробовать использовать другие модули.
